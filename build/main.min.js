!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){b.exports={width:640,height:480,score:0,scoreThis:0,images:{bg:"assets/img/bg.png",ground:"assets/img/ground.png",platform:"assets/img/platform.png",bullet:"assets/img/bullet.png",heart:"assets/img/heart.png"}}},{}],2:[function(a,b,c){var d,e;e=a("./config.coffee"),d=function(){function a(a){}var b,c,d,f,g;return b=function(a,b){return this.game=b,this.enemy=b.add.sprite(b.world.centerX,0,"enemy"),this.game.physics.enable(this.enemy,Phaser.Physics.ARCADE),this.enemy.name=a.toString(),this.enemy.body.immovable=!1,this.enemy.body.gravity.y=800,this.enemy.body.bounce.y=.2,this.enemy.animations.add("walking",[0,1,2,3],10,!0),this.enemy.goD=1===Math.round(Math.random())?"right":"left",this.enemy.body.setSize(50,89),this.enemy.speed=Math.floor(80*Math.random())+30},b.prototype.kill=function(a){return a.play(),this.enemy.kill()},a.prototype.create=function(){var a,c;for(this.score=1,this.lives=3,this.explosion=this.game.add.audio("explosion",.05,!1),this.jump=this.game.add.audio("jump",.05,!1),this.shoot=this.game.add.audio("shoot",.05,!1),this.game.physics.startSystem(Phaser.Physics.ARCADE),this.game.add.sprite(0,0,"bg"),this.player=this.game.add.sprite(this.game.world.centerX,400,"player"),this.player.scale.setTo(.8,.8),this.player.anchor.setTo(.5,.5),this.game.physics.arcade.enable(this.player,Phaser.Physics.ARCADE),this.player.body.collideWorldBounds=!0,this.player.body.gravity.y=800,this.player.body.bounce.y=.2,this.player.animations.add("walking",[0,1,2,3],10,!0),this.playerFacing="right",this.platforms=this.game.add.group(),this.platforms.enableBody=!0,this.ground=this.platforms.create(0,this.game.height-32,"ground"),this.ground.body.immovable=!0,this.platform1=this.platforms.create(450,this.game.height-180,"ground"),this.platform1.body.immovable=!0,this.platform2=this.platforms.create(-450,this.game.height-180,"ground"),this.platform2.body.immovable=!0,this.platform3=this.platforms.create(160,this.game.height-300,"platform"),this.platform3.body.immovable=!0,this.walls=this.game.add.group(),this.walls.enableBody=!0,this.wall1=this.walls.create(25,0,""),this.wall1.scale.setTo(.01,20),this.wall1.body.immovable=!0,this.wall1.visable=!1,this.wall2=this.walls.create(this.game.world.width+15,0,""),this.wall2.scale.setTo(.01,20),this.wall2.body.immovable=!0,this.wall2.visable=!1,this.hearts=[],this.hearts.push(this.game.add.sprite(5,3,"heart")),this.hearts.push(this.game.add.sprite(45,3,"heart")),this.hearts.push(this.game.add.sprite(85,3,"heart")),this.hearts[0].fixedToCamera=!0,this.hearts[1].fixedToCamera=!0,this.hearts[2].fixedToCamera=!0,this.scoreText=this.game.add.text(this.game.width-100,5,"Score: "+this.score.toString()),this.scoreText.anchor.set(.5),this.scoreText.align="center",this.scoreText.font="Arial Black",this.scoreText.fontSize=40,this.scoreText.fontWeight="bold",this.scoreText.fill="#4890c3",this.scoreText.fixedToCamera=!0,this.enemiesAlive=0,this.enemiesKilled=0,this.enemies=[],a=c=0;2>=c;a=++c)this.enemies.push(new b(a,this.game)),this.enemiesAlive++;return this.bullets=this.game.add.group(),this.bullets.enableBody=!0,this.bullets.physicsBodyType=Phaser.Physics.ARCADE,this.bullets.createMultiple(100,"bullet",0,!1),this.bullets.setAll("outOfBoundsKill",!0),this.bullets.setAll("checkWorldBounds",!0),this.shootTimer=0,this.attackButton=this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR),this.button=this.game.input.keyboard.createCursorKeys(),this.jumpTimer=0},a.prototype.update=function(){var a,h,i,j,k;for(this.game.physics.arcade.collide(this.player,this.platforms),this.player.body.velocity.x=0,this.scoreText.cameraOffset.x=this.game.world.width-this.scoreText.width+100,this.scoreText.setText("Score: "+this.score.toString()),a=h=0,j=this.enemies.length-1;j>=0?j>=h:h>=j;a=j>=0?++h:--h)this.game.physics.arcade.collide(this.platforms,this.enemies[a].enemy,c,null,this),this.game.physics.arcade.collide(this.walls,this.enemies[a].enemy,d,null,this),this.game.physics.arcade.collide(this.bullets,this.enemies[a].enemy,g,null,this),this.game.physics.arcade.collide(this.player,this.enemies[a].enemy,f,null,this);if(this.button.right.isDown?(this.player.body.velocity.x=150,this.player.animations.play("walking"),this.player.scale.x*="right"===this.playerFacing?1:-1,this.playerFacing="right"):this.button.left.isDown?(this.player.body.velocity.x=-150,this.player.animations.play("walking"),this.player.scale.x*="left"===this.playerFacing?1:-1,this.playerFacing="left"):(this.player.animations.stop(),this.player.frame=0),this.button.up.isDown&&this.game.time.now>this.jumpTimer&&this.player.body.onFloor&&(this.player.body.velocity.y=-500,this.jumpTimer=this.game.time.now+1500,this.jump.play()),this.attackButton.isDown&&this.game.time.now>this.shootTimer&&(this.shootTimer=this.game.time.now+1e3,this.bullet=this.bullets.getFirstExists(!1),this.xDir="right"===this.playerFacing?this.player.body.x+26:this.player.body.x-26,this.bullet.reset(this.xDir,this.player.body.y+5),this.bullet.body.velocity.x="right"===this.playerFacing?300:-300,this.shoot.play()),this.enemiesAlive<=0)for(this.newX=Math.floor(2*Math.random())+1,this["new"]=this.enemies.length+this.newX,a=i=0,k=this.newX;k>=0?k>=i:i>=k;a=k>=0?++i:--i)this.enemies.push(new b(a,this.game)),this.enemiesAlive++;return 0===this.lives?(this.lives=3,e.scoreThis=this.score,e.score<this.score&&(e.score=this.score),this.game.state.start("lost")):void 0},c=function(a,b){return a.body.velocity.x="right"===a.goD?a.speed:-1*a.speed,a.animations.play("walking"),a.scale.x="right"===a.goD?1:-1},d=function(a,b){return a.goD="right"===a.goD?"left":"right"},g=function(a,b){return this.enemiesAlive--,this.enemiesKilled+=1,this.score=0===this.enemiesKilled?1:10*this.enemiesKilled,b.kill(),this.enemies[a.name].kill(this.explosion)},f=function(a,b){return this.lives>0?(this.hearts[this.lives-1].destroy(),this.lives--,this.player.body.x=this.game.world.centerX,this.player.body.y=this.game.world.centerY):void 0},a}(),b.exports=d},{"./config.coffee":1}],3:[function(a,b,c){var d,e;e=a("./config.coffee"),d=function(){function a(a){}return a.prototype.create=function(){return this.explosion=this.game.add.audio("explosion",.05,!1),this.game.add.sprite(0,0,"bg"),this.platforms=this.game.add.group(),this.platforms.enableBody=!0,this.platform1=this.platforms.create(0,32,"ground"),this.platform1.body.immovable=!0,this.platform1.scale.y*=-1,this.platform2=this.platforms.create(0,this.game.height-32,"ground"),this.platform2.body.immovable=!0,this.title=this.game.add.text(this.game.world.centerX,this.game.world.centerY,"Your score: "+e.scoreThis.toString()),this.title.anchor.set(.5),this.title.align="center",this.title.font="Arial Black",this.title.fontSize=25,this.title.fontWeight="bold",this.title.fill="#4890c3",this.title.fixedToCamera=!0,this.desc=this.game.add.text(this.game.world.centerX,this.game.world.centerY-75,"Best score: "+e.score.toString()),this.desc.anchor.set(.5),this.desc.align="center",this.desc.font="Arial Black",this.desc.fontSize=50,this.desc.fontWeight="bold",this.desc.fill="#4890c3",this.desc.fixedToCamera=!0,this.con=this.game.add.text(this.game.world.centerX,this.game.world.centerY+45,"Press [Spacebar] to continue"),this.con.anchor.set(.5),this.con.align="center",this.con.font="Arial Black",this.con.fontSize=25,this.con.fontWeight="bold",this.con.fill="#4890c3",this.con.fixedToCamera=!0,this.spaceBar=this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR)},a.prototype.update=function(){return this.spaceBar.isDown?this.game.state.start("game"):void 0},a}(),b.exports=d},{"./config.coffee":1}],4:[function(a,b,c){var d,e;e=a("./config.coffee"),d=function(){function a(a){}return a.prototype.preload=function(){var a,b,c;this.game.stage=$.extend(this.game.stage,e.stage),c=e.images;for(a in c)b=c[a],this.game.load.image(a,b);return this.game.load.spritesheet("player","assets/img/player.png",50,89),this.game.load.spritesheet("enemy","assets/img/enemy.png",50,89),this.game.load.audio("music","assets/sounds/music.mp3"),this.game.load.audio("explosion","assets/sounds/explosion.wav"),this.game.load.audio("jump","assets/sounds/jump.wav"),this.game.load.audio("shoot","assets/sounds/shoot.wav")},a.prototype.create=function(){return this.music=this.game.add.audio("music"),this.music.volume=.5,this.music.loop=!0,this.music.play(),this.game.add.sprite(0,0,"bg"),this.platforms=this.game.add.group(),this.platforms.enableBody=!0,this.platform1=this.platforms.create(0,32,"ground"),this.platform1.body.immovable=!0,this.platform1.scale.y*=-1,this.platform2=this.platforms.create(0,this.game.height-32,"ground"),this.platform2.body.immovable=!0,this.title=this.game.add.text(this.game.world.centerX,this.game.world.centerY-45,"Monstrada"),this.title.anchor.set(.5),this.title.align="center",this.title.font="Arial Black",this.title.fontSize=75,this.title.fontWeight="bold",this.title.fill="#4890c3",this.title.fixedToCamera=!0,this.desc=this.game.add.text(this.game.world.centerX,this.game.world.centerY+20,"Press [Spacebar] to play"),this.desc.anchor.set(.5),this.desc.align="center",this.desc.font="Arial Black",this.desc.fontSize=25,this.desc.fontWeight="bold",this.desc.fill="#4890c3",this.desc.fixedToCamera=!0,this.spaceBar=this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR)},a.prototype.update=function(){return this.spaceBar.isDown?this.game.state.start("game"):void 0},a}(),b.exports=d},{"./config.coffee":1}],5:[function(a,b,c){var d,e,f,g;f=a("./lib/menu.coffee"),d=a("./lib/game.coffee"),e=a("./lib/lost.coffee"),g=a("./lib/config.coffee"),$(document).ready(function(){var a;return a=new Phaser.Game(g.width,g.height,Phaser.AUTO),a.state.add("menu",f,!0),a.state.add("game",d,!1),a.state.add("lost",e,!1)})},{"./lib/config.coffee":1,"./lib/game.coffee":2,"./lib/lost.coffee":3,"./lib/menu.coffee":4}]},{},[5]);